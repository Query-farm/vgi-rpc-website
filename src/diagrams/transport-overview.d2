shape: sequence_diagram

client: Client (Typed Proxy) {
  style: {
    fill: "#e8f0d8"
    stroke: "#4a7c23"
    font-color: "#2d5016"
    bold: true
    font-size: 15
  }
}

transport: RpcTransport {
  style: {
    fill: "#f5ecd0"
    stroke: "#c8a43a"
    font-color: "#6b4423"
    bold: true
    font-size: 15
  }
}

server: Server (Implementation) {
  style: {
    fill: "#e8f0d8"
    stroke: "#4a7c23"
    font-color: "#2d5016"
    bold: true
    font-size: 15
  }
}

client -> transport: Arrow IPC Request {
  style.stroke: "#c8a43a"
  style.font-color: "#6b4423"
  style.font-size: 13
}
transport -> server: dispatch(method, batch) {
  style.stroke: "#4a7c23"
  style.font-color: "#2d5016"
  style.font-size: 13
}
server -> transport: Arrow IPC Response {
  style.stroke: "#4a7c23"
  style.font-color: "#2d5016"
  style.font-size: 13
}
transport -> client: typed result {
  style.stroke: "#c8a43a"
  style.font-color: "#6b4423"
  style.font-size: 13
}

transport."Pipe (~5 us) | Subprocess (~50 us) | Unix Socket (~30 us) | Shared Memory (29 GB/s) | HTTP (~500 us)" {
  style: {
    fill: "#faf8f0"
    stroke: "#c8a43a"
    font-color: "#6b4423"
    font-size: 12
    bold: true
  }
}
